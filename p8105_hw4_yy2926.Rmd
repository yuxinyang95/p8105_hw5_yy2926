---
title: "Homework4"
author: "Yuxin"
date: "2018.11.6"
output: github_document
---


```{r setup, include=FALSE}
library(tidyverse)
library(stringr)
library(purrr)
```

# Problem 1 

This zip file contains data from a longitudinal study that included a control arm and an experimental arm. Data for each participant is included in a separate file, and file names include the subject ID and arm.

## Quesiton 1

Create a tidy dataframe containing data from all participants, including the subject ID, arm, and observations over time:

* Start with a dataframe containing all file names; the list.files function will help
* Iterate over file names and read in data for each subject using purrr::map and saving the result as a new variable in the dataframe
* Tidy the result; manipulate file names to include control arm and subject ID, make sure weekly observations are “tidy”, and do any other tidying that’s necessary

```{r}
## Add file name
file_name = list.files("./data/")

## Write a function to read all data 
read_function = function(file_name){
 study_data = read_csv(file = str_c("./data/",file_name)) %>%
   mutate(file = file_name)
}
study_data = 
  map_df(file_name, read_function) 
```